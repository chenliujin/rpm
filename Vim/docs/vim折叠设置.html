<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<title>vim折叠设置（转载） - welkinwalker - 博客园</title>
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=h5zdoMvpyotxl1gAlbby_o3-POeMRbgsgFRLO8kI-xk1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/Valentine/bundle-Valentine.css?v=epqiVI4j819Wn_JdKlq9jXtMbKvrRSVRodm50ppLwHk1"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/welkinwalker/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/welkinwalker/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/welkinwalker/wlwmanifest.xml"/>
<script src="http://common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'welkinwalker', cb_enable_mathjax=false;</script>
<script src="/bundles/blog-common.js?v=CLLiFNNgL6CohO3Olq2i7r9tPyHtCoryr0KngxdwUm41" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<!--done-->
<TABLE cellpadding="0" cellspacing="0" border="0" align="center" width="100%">
<TR>
	<TD width=184 background="/skins/Valentine/images/banner1.gif"></TD>
	<TD background="/skins/Valentine/images/banner.gif">
<!--done-->
<div class="header">
	<div class="headerText">
		<a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/welkinwalker/">渔舟唱晚的天空</a><br>
		<span style="font-size:12px;color:#4371A6;padding-left:20;">——welkinwalker的遐想</span>
	</div>
</div>
</TD>
	<TD width=295 background="/skins/Valentine/images/banner2.gif"></TD>
</TR>
</TABLE>
<div id="mylinks">
<!--done-->
<a id="MyLinks1_HomeLink" class="menu" href="http://www.cnblogs.com/">博客园</a>&nbsp;&nbsp;&nbsp;<a id="MyLinks1_MyHomeLink" class="mainmenu" href="http://www.cnblogs.com/welkinwalker/">首页</a>&nbsp;&nbsp;&nbsp;<a id="MyLinks1_NewPostLink" class="mainmenu" rel="nofollow" href="http://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a>&nbsp;&nbsp;&nbsp;<a id="MyLinks1_NewArticleLink" class="mainmenu" href="/EnterMyBlog.aspx?NewArticle=1">新文章</a>&nbsp;&nbsp;&nbsp;<a id="MyLinks1_ContactLink" accesskey="9" class="mainmenu" rel="nofollow" href="http://msg.cnblogs.com/send/welkinwalker">联系</a>&nbsp;&nbsp;&nbsp;<a id="MyLinks1_Syndication" class="mainmenu" href="http://www.cnblogs.com/welkinwalker/rss">订阅</a><a id="MyLinks1_XMLLink" href="http://www.cnblogs.com/welkinwalker/rss"><img src="http://www.cnblogs.com/images/xml.gif" alt="订阅" /></a>&nbsp;&nbsp;&nbsp;<a id="MyLinks1_Admin" class="menu" rel="nofollow" href="http://i.cnblogs.com/">管理</a>
</div>
<div id="mytopmenu">
	
		<DIV id="mystats">
			
<!--done-->
<div class="blogStats">
posts - 111,comments - 15,trackbacks - 0

</div></DIV>
	
</div>
<div id="leftcontent">
	
		<DIV id="leftcontentcontainer">
			<div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script><br>
			
<!--done-->
<div class="newsItem">
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script></DIV>
	
</div>
<div id="centercontent">
	
<div id="post_detail">
<!--done-->
<div class = "post">
	<div class = "postTitle">
		<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/welkinwalker/archive/2011/05/30/2063587.html">vim折叠设置（转载）</a>
	</div>
	<div id="cnblogs_post_body"><div><span style="color: #333333; font-family: tahoma, arial, 宋体, sans-serif; ">set foldmethod=indent "set default foldmethod<br />"zi 打开关闭折叠<br />"zv 查看此行<br />zm 关闭折叠<br />zM 关闭所有<br />zr 打开<br />zR 打开所有<br />zc 折叠当前行<br />zo 打开当前折叠<br />zd 删除折叠<br />zD 删除所有折叠<br /><br /><br />1. 折叠方式<br />可用选项 'foldmethod' 来设定折叠方式：set fdm=*****。<br />有 6 种方法来选定折叠：<br />manual&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 手工定义折叠<br />indent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 更多的缩进表示更高级别的折叠<br />expr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用表达式来定义折叠<br />syntax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用语法高亮来定义折叠<br />diff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 对没有更改的文本进行折叠<br />marker&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 对文中的标志折叠<br />注意，每一种折叠方式不兼容，如不能即用expr又用marker方式，我主要轮流使用indent和marker方式进行折叠。<br /><br />使用时，用：set fdm=marker 命令来设置成marker折叠方式（fdm是foldmethod的缩写）。<br />要使每次打开vim时折叠都生效，则在.vimrc文件中添加设置，如添加：set fdm=syntax，就像添加其它的初始化设置一样。<br /><br />2. 折叠命令<br />选取了折叠方式后，我们就可以对某些代码实施我们需要的折叠了，由于我使用indent和marker稍微多一些，故以它们的使用为例：<br />如果使用了indent方式，vim会自动的对大括号的中间部分进行折叠，我们可以直接使用这些现成的折叠成果。<br />在可折叠处（大括号中间）：<br />zc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 折叠<br />zC&nbsp;&nbsp;&nbsp;&nbsp; 对所在范围内所有嵌套的折叠点进行折叠<br />zo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 展开折叠<br />zO&nbsp;&nbsp;&nbsp;&nbsp; 对所在范围内所有嵌套的折叠点展开<br />[z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 到当前打开的折叠的开始处。<br />]z&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 到当前打开的折叠的末尾处。<br />zj&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 向下移动。到达下一个折叠的开始处。关闭的折叠也被计入。<br />zk&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 向上移动到前一折叠的结束处。关闭的折叠也被计入。<br /><br />当使用marker方式时，需要用标计来标识代码的折叠，系统默认是{{{和}}}，最好不要改动之：）<br />我们可以使用下面的命令来创建和删除折叠：<br />zf&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 创建折叠，比如在marker方式下：<br />zf56G，创建从当前行起到56行的代码折叠；<br />10zf或10zf+或zf10&#8595;，创建从当前行起到后10行的代码折叠。<br />10zf-或zf10&#8593;，创建从当前行起到之前10行的代码折叠。<br />在括号处zf%，创建从当前行起到对应的匹配的括号上去（（），{}，[]，&lt;&gt;等）。<br />zd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 删除 (delete) 在光标下的折叠。仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。<br />zD&nbsp;&nbsp;&nbsp;&nbsp; 循环删除 (Delete) 光标下的折叠，即嵌套删除折叠。<br />仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。<br />zE&nbsp;&nbsp;&nbsp;&nbsp; 除去 (Eliminate) 窗口里&#8220;所有&#8221;的折叠。<br />仅当 'foldmethod' 设为 "manual" 或 "marker" 时有效。<br /><br />关于vim的代码折叠，小弟也是初学，仅做参考。<br /><br /><br /><br /><br />使用Vim的折叠功能书写程序代码<br /><br />折行的用处：<br />2 创建折行进行大纲预览<br />2 移动到某处进行编辑<br />2 使用jzij打开文本进行编辑<br />2 编辑完毕后再用jzij打开折行进行移动<br /><br />打开vim的折叠功能，请在~/.vimrc 中加入:set foldmethod=marker ，使用vim默认的折叠标签进行处理。使用方法如下：<br />1、加折叠标签<br />在normal模式下，从键盘输入zf并回车，您就会看到折叠在一起的两行标签如下：<br />/*{{{*/<br />.....这里输入您 的程序代码<br />/*}}}*/<br /><br />2、输入程序代码后，将代码折叠起来使用如下命令(normal模式)：<br />zc 回车<br /><br />3、打开折叠的程序有以下几种方法<br />a、在折叠的行上移动光标<br />b、在normal模式下输入zo并回车<br /><br />4、给一段文字加折行（normal 模式）<br />zfap<br /><br />5、zr命令可以打开折叠几层的内容 zm使用内容折叠的更多一些（多层折叠操作时可反复使用）。<br /><br />6、嵌套了多层的折行, 也可以用zR命令一次打开所有折行<br /><br />7、关闭所有的嵌套折行使用zM<br /><br />8、可以用jznj命令来禁用一个折行. 然后用jzNj还可以恢复它. jzij命令则可以在两者之间切换.<br /><br />其它的，请参考vim的使用手册。</span></div></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


	<div class = "postDesc">posted on <span id="post-date">2011-05-30 19:40</span> <a href='http://www.cnblogs.com/welkinwalker/'>welkinwalker</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>)  <a href ="http://i.cnblogs.com/EditPosts.aspx?postid=2063587" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(2063587);return false;">收藏</a></div>
</div>
<script type="text/javascript">var allowComments=true,isLogined=false,cb_blogId=66454,cb_entryId=2063587,cb_blogApp=currentBlogApp,cb_blogUserGuid='58f5ad81-c310-df11-ba8f-001cf0cd104b',cb_entryCreatedDate='2011/5/30 19:40:00';loadViewCount(cb_entryId);</script>

</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="开发者的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="opt_under_post"></div>
<script type="text/javascript">
    fixPostBodyFormat();
</script>
<div id="google_ad_c1" class="c_ad_block"></div>
<div id="under_post_news"></div>
<div id="google_ad_c2" class="c_ad_block"></div>
<div id="under_post_kb"></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
$(function () {
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    setTimeout(function () { incrementViewCount(cb_entryId); }, 200);
});
</script>
</div>

</div>

<!--done-->
<div class="footer">
	
	Copyright &copy;2015 welkinwalker Powered By<a href="/">博客园</a> 模板提供：<a href="http://blog.hjenglish.com">沪江博客</a>
</div>
</body>
</html>
